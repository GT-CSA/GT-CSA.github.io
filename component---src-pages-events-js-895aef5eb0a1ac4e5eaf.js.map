{"version":3,"file":"component---src-pages-events-js-895aef5eb0a1ac4e5eaf.js","mappings":"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","sources":["webpack://georgia-tech-chinese-student-association-website/./src/components/carousel.js","webpack://georgia-tech-chinese-student-association-website/./src/components/carousel.module.css","webpack://georgia-tech-chinese-student-association-website/./src/components/hero.js","webpack://georgia-tech-chinese-student-association-website/./src/components/hero.module.css","webpack://georgia-tech-chinese-student-association-website/./src/components/iframe-container.js","webpack://georgia-tech-chinese-student-association-website/./src/components/iframe-container.module.css","webpack://georgia-tech-chinese-student-association-website/./src/components/tags.js","webpack://georgia-tech-chinese-student-association-website/./src/components/tags.module.css","webpack://georgia-tech-chinese-student-association-website/./src/components/events-preview.js","webpack://georgia-tech-chinese-student-association-website/./src/components/events-preview.module.css","webpack://georgia-tech-chinese-student-association-website/./src/pages/events.js","webpack://georgia-tech-chinese-student-association-website/./src/pages-css/events.module.css","webpack://georgia-tech-chinese-student-association-website/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import { GatsbyImage } from 'gatsby-plugin-image'\nimport React, { useEffect, useState } from 'react'\n\nimport * as styles from './carousel.module.css'\n\nconst Carousel = ({ images, imgStyle, imageClass, manual = false }) => {\n  const [activeIndex, setActiveIndex] = useState(0)\n  useEffect(() => {\n    if (!manual) {\n      const flip = setTimeout(\n        () => setActiveIndex((activeIndex + 1) % images.length),\n        7000\n      )\n      return () => clearTimeout(flip)\n    }\n  }, [activeIndex, images.length, manual])\n  return (\n    <div className={styles.container}>\n      {images.map((i, idx) => (\n        <GatsbyImage\n          key={i.title}\n          alt={i.title ? i.title : 'CSA Gatech'}\n          image={i.gatsbyImageData}\n          className={`${activeIndex === idx ? styles.active : ''} ${\n            styles.image\n          } ${imageClass ? imageClass : ''}`}\n          imgStyle={imgStyle}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport default Carousel\n","// extracted by mini-css-extract-plugin\nexport var active = \"carousel-module--active--MhiBk\";\nexport var container = \"carousel-module--container--8DeBy\";\nexport var image = \"carousel-module--image--wHqfk\";","import React from 'react'\n\nimport * as styles from './hero.module.css'\nimport { renderRichText } from 'gatsby-source-contentful/rich-text'\nimport Container from './container'\nimport Carousel from './carousel'\n\nconst Hero = ({ hero, popup, children }) => {\n  const { images, title, subtitle, description } = hero\n  const image = images[0].gatsbyImageData\n  return (\n    <div>\n      <div className={`${styles.hero} ${popup ? styles.popped : ''}`}>\n        {image && (\n          <Carousel\n            imageClass={styles.image}\n            images={images}\n            imgStyle={{ objectPosition: 'bottom' }}\n          />\n        )}\n        <div className={styles.backgroundShade} />\n        <div className={styles.detailsContainer}>\n          <div className={styles.details}>\n            <h1 className={styles.title}>{title}</h1>\n            <h2 className={styles.subtitle}>{subtitle}</h2>\n            {children}\n          </div>\n        </div>\n      </div>\n      {popup && popup}\n      {description && (\n        <Container className={styles.description}>\n          {renderRichText(description)}\n        </Container>\n      )}\n    </div>\n  )\n}\n\nexport default Hero\n","// extracted by mini-css-extract-plugin\nexport var backgroundShade = \"hero-module--background-shade---xrNT\";\nexport var description = \"hero-module--description--z3BUB\";\nexport var details = \"hero-module--details--WWO7r\";\nexport var detailsContainer = \"hero-module--detailsContainer--nWsLZ\";\nexport var hero = \"hero-module--hero--JreNK\";\nexport var image = \"hero-module--image--wE2lP\";\nexport var popped = \"hero-module--popped--rAJr5\";\nexport var subtitle = \"hero-module--subtitle--3AMZa\";\nexport var title = \"hero-module--title--+uEef\";","import { renderRichText } from 'gatsby-source-contentful/rich-text'\nimport React from 'react'\nimport Container from './container'\n\nimport * as styles from './iframe-container.module.css'\n\nconst IFrameContainer = ({\n  containerTitle,\n  containerDescription,\n  title,\n  className,\n  ...props\n}) => {\n  return (\n    <Container>\n      <h1>{containerTitle ? containerTitle : 'Title'}</h1>\n      {containerDescription && (\n        <div className={styles.containerDescription}>\n          {renderRichText(containerDescription)}\n        </div>\n      )}\n      <div className={`${styles.frameContainer} ${className}`}>\n        <iframe className={styles.frame} title={title} {...props}></iframe>\n      </div>\n    </Container>\n  )\n}\n\nexport default IFrameContainer\n","// extracted by mini-css-extract-plugin\nexport var containerDescription = \"iframe-container-module--container-description--bCeD6\";\nexport var frame = \"iframe-container-module--frame--PUHLq\";\nexport var frameContainer = \"iframe-container-module--frame-container--lkuDt\";","import React from 'react'\n\nimport * as styles from './tags.module.css'\n\nconst Tags = ({ tags }) =>\n  tags?.length > 0 && (\n    <small className={styles.tags}>\n      {tags.map((tag) => (\n        <div key={tag} className={styles.tag}>\n          {tag}\n        </div>\n      ))}\n    </small>\n  )\n\nexport default Tags\n","// extracted by mini-css-extract-plugin\nexport var tag = \"tags-module--tag--1TqEx\";\nexport var tags = \"tags-module--tags--qfz9t\";","import React from 'react'\nimport { GatsbyImage } from 'gatsby-plugin-image'\nimport { renderRichText } from 'gatsby-source-contentful/rich-text'\n\nimport * as styles from './events-preview.module.css'\nimport Container from './container'\nimport Tags from './tags'\n\nconst EventsPreview = ({ events = [], title, description }) => {\n  if (!Array.isArray(events)) return null\n\n  return (\n    <Container>\n      <div className={styles.container}>\n        <h2 className={styles.title}>\n          {title ? title : 'Upcoming CSA Events'}\n        </h2>\n        {description?.raw && <div>{renderRichText(description)}</div>}\n        <ul className={styles.eventList}>\n          {events.length === 0 && <p>There are no listed events!</p>}\n          {events.map((event) => {\n            return (\n              <li key={event.title}>\n                <h2 className={styles.eventTitle}>{event.title}</h2>\n                <EventMeta\n                  startDate={event.startDate}\n                  endDate={event.endDate}\n                  at={event.locationSlug}\n                  coordinates={event.location}\n                  link={\n                    event.locationLink ? event.locationLink.locationLink : null\n                  }\n                />\n                <div className={styles.description}>\n                  {event.description?.raw && renderRichText(event.description)}\n                </div>\n                <div className={styles.tags}>\n                  <Tags tags={event.tags} />\n                </div>\n                {event.banner?.gatsbyImageData && (\n                  <GatsbyImage\n                    alt={event.title}\n                    image={event.banner.gatsbyImageData}\n                    className={styles.banner}\n                  />\n                )}\n              </li>\n            )\n          })}\n        </ul>\n      </div>\n    </Container>\n  )\n}\n\nconst EventMeta = ({ startDate, endDate, at, coordinates, link }) => {\n  const [startDayOfWeek, startDay, startYear, startTime] = startDate.split(', ')\n  const [endDayOfWeek, endDay, endYear, endTime] = endDate.split(', ')\n  let eventTime = `${startDayOfWeek} ${startDay}`\n  if (startDay === endDay && startYear === endYear)\n    eventTime = `${eventTime} ${startYear}, ${startTime} - ${endTime}`\n  else {\n    if (startYear === endYear)\n      eventTime = `${eventTime} - ${endDayOfWeek} ${endDay} ${endYear}, ${startTime} - ${endTime}`\n    else\n      eventTime = `${eventTime} ${startYear} - ${endDayOfWeek} ${endDay} ${endYear}, ${startTime} - ${endTime}`\n  }\n  return (\n    <h3 className={styles.meta}>\n      {eventTime}{' '}\n      <a\n        href={\n          link\n            ? link\n            : `https://www.google.com/maps/search/?api=1&query=${coordinates.lat}%2C${coordinates.lon}`\n        }\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {at}\n      </a>\n    </h3>\n  )\n}\n\nexport default EventsPreview\n","// extracted by mini-css-extract-plugin\nexport var banner = \"events-preview-module--banner--TFeH8\";\nexport var container = \"events-preview-module--container--rITSP\";\nexport var description = \"events-preview-module--description--Dbr+C\";\nexport var eventList = \"events-preview-module--event-list--V5pwG\";\nexport var eventTitle = \"events-preview-module--event-title--5U9bX\";\nexport var link = \"events-preview-module--link--RATtu\";\nexport var meta = \"events-preview-module--meta--inZJK\";\nexport var tags = \"events-preview-module--tags--US9QU\";\nexport var title = \"events-preview-module--title--RlCBF\";","import React from 'react'\nimport { graphql } from 'gatsby'\n\nimport Layout from '../components/layout'\nimport Hero from '../components/hero'\nimport EventsPreview from '../components/events-preview'\nimport Seo from '../components/seo'\nimport IFrameContainer from '../components/iframe-container'\n\nimport * as styles from '../pages-css/events.module.css'\nimport Container from '../components/container'\nimport Carousel from '../components/carousel'\nimport { renderRichText } from 'gatsby-source-contentful/rich-text'\n\nconst Events = ({ data }) => {\n  const { hero, events, photos, calendar, eventsTitleDescription } = data\n  // const today = new Date()\n  // const eventsAfterToday = events.nodes.filter(\n  //   (event) => new Date(event.endDateTs) > today\n  // )\n\n  return (\n    <Layout>\n      <Seo title=\"CSA Events\" />\n      <Hero hero={hero} />\n      <EventsPreview\n        events={events.nodes}\n        title={eventsTitleDescription.title}\n        description={eventsTitleDescription.description}\n      />\n      <Container className={styles.photos}>\n        <h1>{photos.title}</h1>\n        {photos.subtitle && (\n          <p className={styles.photosSubtitle}>{photos.subtitle}</p>\n        )}\n        <div className={styles.carousel}>\n          <Carousel images={photos.images} />\n        </div>\n        {photos.description && <div>{renderRichText(photos.description)}</div>}\n      </Container>\n      <div className={styles.month}>\n        <IFrameContainer\n          containerTitle={calendar.title}\n          containerDescription={calendar.description}\n          src=\"https://calendar.google.com/calendar/embed?src=csa.gatech%40gmail.com&ctz=America%2FNew_York&showTitle=0\"\n          title=\"CSA Calendar\"\n          style={{ border: 0 }}\n          frameBorder=\"0\"\n          scrolling=\"no\"\n        />\n      </div>\n      <div className={styles.agenda}>\n        <IFrameContainer\n          containerTitle=\"Events Calendar\"\n          src=\"https://calendar.google.com/calendar/embed?src=csa.gatech%40gmail.com&ctz=America%2FNew_York&showTitle=0&mode=AGENDA\"\n          title=\"CSA Calendar\"\n          style={{ border: 0 }}\n          frameBorder=\"0\"\n          scrolling=\"no\"\n          className={styles.agendaFrame}\n        />\n      </div>\n    </Layout>\n  )\n}\n\nexport default Events\n\nexport const pageQuery = graphql`\n  query EventsQuery {\n    hero: contentfulPageHero(\n      id: { eq: \"9fad5883-7ef0-5b03-a110-b1f9c41abc74\" }\n    ) {\n      title\n      subtitle\n      description: longDescription {\n        raw\n      }\n      images {\n        gatsbyImageData(placeholder: BLURRED, layout: FULL_WIDTH)\n        title\n      }\n    }\n    events: allContentfulEventPreview(\n      filter: { active: { eq: true } }\n      sort: { fields: endDate, order: ASC }\n    ) {\n      nodes {\n        title\n        description {\n          raw\n        }\n        startDate(formatString: \"dddd, MMMM Do, YYYY, h:mm a\")\n        endDate(formatString: \"dddd, MMMM Do, YYYY, h:mm a\")\n        endDateTs\n        locationSlug\n        location {\n          lat\n          lon\n        }\n        locationLink {\n          locationLink\n        }\n        banner {\n          gatsbyImageData(layout: CONSTRAINED, aspectRatio: 4.0)\n        }\n        tags\n      }\n    }\n    photos: contentfulGenericBlock(\n      id: { eq: \"a3740379-a69c-555e-a1fa-47d0eb5073f8\" }\n    ) {\n      title\n      subtitle\n      description {\n        raw\n      }\n      images {\n        gatsbyImageData(placeholder: BLURRED, aspectRatio: 1.777)\n        title\n      }\n    }\n    calendar: contentfulGenericBlock(\n      id: { eq: \"e089890e-231d-515e-9bb6-d249a0e5d116\" }\n    ) {\n      title\n      description {\n        raw\n      }\n    }\n    eventsTitleDescription: contentfulGenericBlock(\n      id: { eq: \"8b7b7907-e2a3-570c-8814-16a39ed6958e\" }\n    ) {\n      title\n      description {\n        raw\n      }\n    }\n  }\n`\n","// extracted by mini-css-extract-plugin\nexport var agenda = \"events-module--agenda--Qs8ji\";\nexport var agendaFrame = \"events-module--agenda-frame--Hkjxw\";\nexport var carousel = \"events-module--carousel--Vtw-c\";\nexport var month = \"events-module--month--we7BD\";\nexport var photos = \"events-module--photos--iDcoC\";\nexport var photosSubtitle = \"events-module--photos-subtitle--kISid\";","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"names":["images","imgStyle","imageClass","manual","useState","activeIndex","setActiveIndex","useEffect","flip","setTimeout","length","clearTimeout","className","map","i","idx","G","key","title","alt","image","gatsbyImageData","hero","popup","children","subtitle","description","styles","objectPosition","renderRichText","containerTitle","containerDescription","props","tags","tag","EventMeta","startDate","endDate","at","coordinates","link","split","startDayOfWeek","startDay","startYear","startTime","endDayOfWeek","endDay","endYear","endTime","eventTime","href","lat","lon","target","rel","events","Array","isArray","raw","event","locationSlug","location","locationLink","banner","data","photos","calendar","eventsTitleDescription","nodes","src","style","border","frameBorder","scrolling","_objectWithoutPropertiesLoose","source","excluded","sourceKeys","Object","keys","indexOf"],"sourceRoot":""}