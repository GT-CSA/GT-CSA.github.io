{"version":3,"file":"component---src-pages-events-js-af878392a36ae29f39f1.js","mappings":"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","sources":["webpack://georgia-tech-chinese-student-association-website/./src/components/carousel.js","webpack://georgia-tech-chinese-student-association-website/./src/components/carousel.module.css","webpack://georgia-tech-chinese-student-association-website/./src/components/hero.js","webpack://georgia-tech-chinese-student-association-website/./src/components/hero.module.css","webpack://georgia-tech-chinese-student-association-website/./src/components/iframe-container.js","webpack://georgia-tech-chinese-student-association-website/./src/components/iframe-container.module.css","webpack://georgia-tech-chinese-student-association-website/./src/components/tags.js","webpack://georgia-tech-chinese-student-association-website/./src/components/tags.module.css","webpack://georgia-tech-chinese-student-association-website/./src/components/events-preview.js","webpack://georgia-tech-chinese-student-association-website/./src/components/events-preview.module.css","webpack://georgia-tech-chinese-student-association-website/./src/components/bamboo-footer.js","webpack://georgia-tech-chinese-student-association-website/./src/components/bamboo-footer.module.css","webpack://georgia-tech-chinese-student-association-website/./src/pages/events.js","webpack://georgia-tech-chinese-student-association-website/./src/pages-css/events.module.css","webpack://georgia-tech-chinese-student-association-website/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import { GatsbyImage } from 'gatsby-plugin-image'\nimport React, { useEffect, useState } from 'react'\n\nimport * as styles from './carousel.module.css'\n\nconst Carousel = ({ images, imgStyle, imageClass, manual = false }) => {\n  const [activeIndex, setActiveIndex] = useState(0)\n  useEffect(() => {\n    if (!manual) {\n      const flip = setTimeout(\n        () => setActiveIndex((activeIndex + 1) % images.length),\n        7000\n      )\n      return () => clearTimeout(flip)\n    }\n  }, [activeIndex, images.length, manual])\n  return (\n    <div className={styles.container}>\n      {images.map((i, idx) => (\n        <GatsbyImage\n          key={i.title}\n          alt={i.title ? i.title : 'CSA Gatech'}\n          image={i.gatsbyImageData}\n          className={`${activeIndex === idx ? styles.active : ''} ${\n            styles.image\n          } ${imageClass ? imageClass : ''}`}\n          imgStyle={imgStyle}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport default Carousel\n","// extracted by mini-css-extract-plugin\nexport var active = \"carousel-module--active--MhiBk\";\nexport var container = \"carousel-module--container--8DeBy\";\nexport var image = \"carousel-module--image--wHqfk\";","import React from 'react'\n\nimport * as styles from './hero.module.css'\nimport { renderRichText } from 'gatsby-source-contentful/rich-text'\nimport Container from './container'\nimport Carousel from './carousel'\n\nconst Hero = ({ hero, children }) => {\n  const { images, title, subtitle, description } = hero\n  // todo: change to carousel\n  const image = images[0].gatsbyImageData\n  return (\n    <div>\n      <div className={styles.hero}>\n        {image && (\n          <Carousel\n            imageClass={styles.image}\n            images={images}\n            imgStyle={{ objectPosition: 'bottom' }}\n          />\n        )}\n        <div className={styles.backgroundShade} />\n        <div className={styles.detailsContainer}>\n          <div className={styles.details}>\n            <h1 className={styles.title}>{title}</h1>\n            <h2 className={styles.subtitle}>{subtitle}</h2>\n            {children}\n          </div>\n        </div>\n      </div>\n      {description && (\n        <Container className={styles.description}>\n          {renderRichText(description)}\n        </Container>\n      )}\n    </div>\n  )\n}\n\nexport default Hero\n","// extracted by mini-css-extract-plugin\nexport var backgroundShade = \"hero-module--background-shade---xrNT\";\nexport var description = \"hero-module--description--z3BUB\";\nexport var details = \"hero-module--details--WWO7r\";\nexport var detailsContainer = \"hero-module--detailsContainer--nWsLZ\";\nexport var hero = \"hero-module--hero--JreNK\";\nexport var image = \"hero-module--image--wE2lP\";\nexport var subtitle = \"hero-module--subtitle--3AMZa\";\nexport var title = \"hero-module--title--+uEef\";","import React from 'react'\nimport Container from './container'\n\nimport * as styles from './iframe-container.module.css'\n\nconst IFrameContainer = ({ containerTitle, title, className, ...props }) => {\n  return (\n    <Container>\n      <h1>{containerTitle ? containerTitle : 'Title'}</h1>\n      <div className={`${styles.frameContainer} ${className}`}>\n        <iframe className={styles.frame} title={title} {...props}></iframe>\n      </div>\n    </Container>\n  )\n}\n\nexport default IFrameContainer\n","// extracted by mini-css-extract-plugin\nexport var frame = \"iframe-container-module--frame--PUHLq\";\nexport var frameContainer = \"iframe-container-module--frame-container--lkuDt\";","import React from 'react'\n\nimport * as styles from './tags.module.css'\n\nconst Tags = ({ tags }) =>\n  tags?.length > 0 && (\n    <small className={styles.tags}>\n      {tags.map((tag) => (\n        <div key={tag} className={styles.tag}>\n          {tag}\n        </div>\n      ))}\n    </small>\n  )\n\nexport default Tags\n","// extracted by mini-css-extract-plugin\nexport var tag = \"tags-module--tag--1TqEx\";\nexport var tags = \"tags-module--tags--qfz9t\";","import React from 'react'\nimport { GatsbyImage } from 'gatsby-plugin-image'\nimport { renderRichText } from 'gatsby-source-contentful/rich-text'\n\nimport * as styles from './events-preview.module.css'\nimport Container from './container'\nimport Tags from './tags'\n\nconst EventsPreview = ({ events = [] }) => {\n  if (!Array.isArray(events)) return null\n\n  return (\n    <Container>\n      <div className={styles.container}>\n        <h2 className={styles.title}>Upcoming CSA Events</h2>\n        <ul className={styles.eventList}>\n          {events.length === 0 && <p>There are no listed events!</p>}\n          {events.map((event) => {\n            return (\n              <li key={event.title}>\n                <h2 className={styles.eventTitle}>{event.title}</h2>\n                <EventMeta\n                  startDate={event.startDate}\n                  endDate={event.endDate}\n                  at={event.locationSlug}\n                  coordinates={event.location}\n                  link={\n                    event.locationLink ? event.locationLink.locationLink : null\n                  }\n                />\n                <div className={styles.description}>\n                  {event.description?.raw && renderRichText(event.description)}\n                </div>\n                <div className={styles.tags}>\n                  <Tags tags={event.tags} />\n                </div>\n                <GatsbyImage\n                  alt={event.title}\n                  image={event.banner.gatsbyImageData}\n                  className={styles.banner}\n                />\n              </li>\n            )\n          })}\n        </ul>\n      </div>\n    </Container>\n  )\n}\n\nconst EventMeta = ({ startDate, endDate, at, coordinates, link }) => {\n  const [startDayOfWeek, startDay, startYear, startTime] = startDate.split(', ')\n  const [endDayOfWeek, endDay, endYear, endTime] = endDate.split(', ')\n  let eventTime = `${startDayOfWeek} ${startDay}`\n  if (startDay === endDay && startYear === endYear)\n    eventTime = `${eventTime} ${startYear}, ${startTime} - ${endTime}`\n  else {\n    if (startYear === endYear)\n      eventTime = `${eventTime} - ${endDayOfWeek} ${endDay} ${endYear}, ${startTime} - ${endTime}`\n    else\n      eventTime = `${eventTime} ${startYear} - ${endDayOfWeek} ${endDay} ${endYear}, ${startTime} - ${endTime}`\n  }\n  return (\n    <h3 className={styles.meta}>\n      {eventTime}{' '}\n      <a\n        href={\n          link\n            ? link\n            : `https://www.google.com/maps/search/?api=1&query=${coordinates.lat}%2C${coordinates.lon}`\n        }\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {at}\n      </a>\n    </h3>\n  )\n}\n\nexport default EventsPreview\n","// extracted by mini-css-extract-plugin\nexport var banner = \"events-preview-module--banner--TFeH8\";\nexport var container = \"events-preview-module--container--rITSP\";\nexport var description = \"events-preview-module--description--Dbr+C\";\nexport var eventList = \"events-preview-module--event-list--V5pwG\";\nexport var eventTitle = \"events-preview-module--event-title--5U9bX\";\nexport var link = \"events-preview-module--link--RATtu\";\nexport var meta = \"events-preview-module--meta--inZJK\";\nexport var tags = \"events-preview-module--tags--US9QU\";\nexport var title = \"events-preview-module--title--RlCBF\";","// import { StaticImage } from 'gatsby-plugin-image'\nimport React from 'react'\nimport Container from './container'\n\nimport * as styles from './bamboo-footer.module.css'\n\nconst BambooFooter = ({ children }) => (\n  <Container className={styles.container}>\n    {/* <div className={styles.imageContainer}>\n      <StaticImage src=\"../images/Bamboo.png\" alt=\"bamboo\" />\n    </div> */}\n    {children}\n  </Container>\n)\n\nexport default BambooFooter\n","// extracted by mini-css-extract-plugin\nexport var container = \"bamboo-footer-module--container--v68WO\";\nexport var imageContainer = \"bamboo-footer-module--image-container--08UjI\";","import React from 'react'\nimport { graphql, Link } from 'gatsby'\n\nimport Layout from '../components/layout'\nimport Hero from '../components/hero'\nimport EventsPreview from '../components/events-preview'\nimport BambooFooter from '../components/bamboo-footer'\nimport Seo from '../components/seo'\nimport IFrameContainer from '../components/iframe-container'\n\nimport * as styles from '../pages-css/events.module.css'\nimport Container from '../components/container'\nimport Carousel from '../components/carousel'\nimport { renderRichText } from 'gatsby-source-contentful/rich-text'\n\nconst Events = ({ data }) => {\n  const { hero, events, photos } = data\n  // const today = new Date()\n  // const eventsAfterToday = events.nodes.filter(\n  //   (event) => new Date(event.endDateTs) > today\n  // )\n\n  return (\n    <Layout>\n      <Seo title=\"CSA Events\" />\n      <Hero hero={hero} />\n      <div className={styles.month}>\n        <IFrameContainer\n          containerTitle=\"Events Calendar\"\n          src=\"https://calendar.google.com/calendar/embed?src=csa.gatech%40gmail.com&ctz=America%2FNew_York&showTitle=0\"\n          title=\"CSA Calendar\"\n          style={{ border: 0 }}\n          frameBorder=\"0\"\n          scrolling=\"no\"\n        />\n      </div>\n      <div className={styles.agenda}>\n        <IFrameContainer\n          containerTitle=\"Events Calendar\"\n          src=\"https://calendar.google.com/calendar/embed?src=csa.gatech%40gmail.com&ctz=America%2FNew_York&showTitle=0&mode=AGENDA\"\n          title=\"CSA Calendar\"\n          style={{ border: 0 }}\n          frameBorder=\"0\"\n          scrolling=\"no\"\n          className={styles.agendaFrame}\n        />\n      </div>\n      <Container className={styles.photos}>\n        <h1>{photos.title}</h1>\n        <div className={styles.carousel}>\n          <Carousel images={photos.images} />\n        </div>\n        <div>{renderRichText(photos.description)}</div>\n      </Container>\n      <EventsPreview events={events.nodes} />\n      <BambooFooter>\n        <p>\n          Looking for past events? See event recap posts{' '}\n          <Link to=\"/cctv\">at our blog here!</Link>\n        </p>\n      </BambooFooter>\n    </Layout>\n  )\n}\n\nexport default Events\n\nexport const pageQuery = graphql`\n  query EventsQuery {\n    hero: contentfulPageHero(\n      id: { eq: \"9fad5883-7ef0-5b03-a110-b1f9c41abc74\" }\n    ) {\n      title\n      subtitle\n      description: longDescription {\n        raw\n      }\n      images {\n        gatsbyImageData(placeholder: BLURRED, layout: FULL_WIDTH)\n        title\n      }\n    }\n    events: allContentfulEventPreview(\n      filter: { active: { eq: true } }\n      sort: { fields: endDate, order: ASC }\n    ) {\n      nodes {\n        title\n        description {\n          raw\n        }\n        startDate(formatString: \"dddd, MMMM Do, YYYY, h:mm a\")\n        endDate(formatString: \"dddd, MMMM Do, YYYY, h:mm a\")\n        endDateTs\n        locationSlug\n        location {\n          lat\n          lon\n        }\n        locationLink {\n          locationLink\n        }\n        banner {\n          gatsbyImageData(layout: CONSTRAINED, aspectRatio: 4.0)\n        }\n        tags\n      }\n    }\n    photos: contentfulGenericBlock(\n      id: { eq: \"a3740379-a69c-555e-a1fa-47d0eb5073f8\" }\n    ) {\n      title\n      description {\n        raw\n      }\n      images {\n        gatsbyImageData(placeholder: BLURRED, aspectRatio: 1.777)\n        title\n      }\n    }\n  }\n`\n","// extracted by mini-css-extract-plugin\nexport var agenda = \"events-module--agenda--Qs8ji\";\nexport var agendaFrame = \"events-module--agenda-frame--Hkjxw\";\nexport var carousel = \"events-module--carousel--Vtw-c\";\nexport var month = \"events-module--month--we7BD\";\nexport var photos = \"events-module--photos--iDcoC\";","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"names":["images","imgStyle","imageClass","manual","useState","activeIndex","setActiveIndex","useEffect","flip","setTimeout","length","clearTimeout","className","map","i","idx","G","key","title","alt","image","gatsbyImageData","hero","children","subtitle","description","objectPosition","renderRichText","containerTitle","props","styles","tags","tag","EventMeta","startDate","endDate","at","coordinates","link","split","startDayOfWeek","startDay","startYear","startTime","endDayOfWeek","endDay","endYear","endTime","eventTime","href","lat","lon","target","rel","events","Array","isArray","event","locationSlug","location","locationLink","raw","banner","data","photos","src","style","border","frameBorder","scrolling","nodes","to","_objectWithoutPropertiesLoose","source","excluded","sourceKeys","Object","keys","indexOf"],"sourceRoot":""}